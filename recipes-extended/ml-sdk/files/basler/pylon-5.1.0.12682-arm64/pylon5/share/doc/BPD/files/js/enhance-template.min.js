/*!
@license RoboHelp template enhancements | (c) Basler AG
*/
!function(E){var u=!1,O=window.rh,s="#filterSearchBox",l="bslTrackingDisabled",T="bslCurrentCameraID",t="bslCookieInfoAccepted";function i(){0<E(".desktop-sidebar-hidden").length&&0<E("#sidebarbtn").length&&E("#sidebarbtn").is(":visible")&&E("#sidebarbtn")[0].click()}function w(e){var t=O.model.get(O.consts("KEY_TOPIC_ID"));return!!t&&(t=t.topicID).substring(0,e.length)===e}function c(){return"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname}O.model.subscribe(O.consts("KEY_TOPIC_ID"),function(){!function(){var e=O.model.get(O.consts("KEY_TOPIC_IN_IFRAME")),t=O.model.get(O.consts("KEY_TOPIC_TITLE"));if(e&&t){if(w("1.1")&&(r=t,E((n=s)+" option").each(function(){if(E(this).text().replace(/ .*/,"")===r){var e=E(this).val();E(n).val(e).trigger("change",!0)}})),(i=O.model.get(O.consts("KEY_TOPIC_ID")))&&1===(i=i.topicID).indexOf("_")||w("1")?(E("#filterbtn").fadeIn(200),E("#filterbtnmobile").fadeIn(200),c()||E("a.share").fadeIn(200),E("a.help").fadeIn(200),E("#selectedDeviceHolder").fadeIn(200),E("#selectedDeviceHolderMobile").fadeIn(200)):(E("#filterbtn").fadeOut(200),E("#filterbtnmobile").fadeOut(200),c()||E("a.share").fadeOut(200),E("a.help").fadeOut(200),E("#selectedDeviceHolder").fadeOut(200),E("#selectedDeviceHolderMobile").fadeOut(200)),O._.isUsefulString(t)&&(document.title=t+" | Basler"),window.localStorage?"true"===localStorage.getItem(l):"true"===getCookie(l))u&&console.log("[DEBUG] Tracking is disabled");else{var o=E(s+" :selected").text()||"";!function(e,t,o){if(!O._.isEmptyObject(ga)&&O._.isUsefulString(e)&&O._.isUsefulString(t)){var i=O.model.get(O.consts("KEY_SEARCH_TERM"));O._.isUsefulString(i)&&(e=encodeURI(e+"?rhsearch="+i));var n="";if(c()){var r=O.model.get(O.consts("KEY_LNG")).VersionNumber;n=O._.isUsefulString(r)?"local-"+r+".baslerweb.com":"local.baslerweb.com"}else n=location.hostname;var s=getUrlParameter("utm_campaign"),l=getUrlParameter("utm_medium"),a=getUrlParameter("utm_source");O._.isUsefulString(s)&&O._.isUsefulString(a)&&O._.isUsefulString(l)&&(ga("set","campaignName",s),ga("set","campaignSource",a),ga("set","campaignMedium",l),u&&console.log("[DEBUG] GA campaign info set. Campaign: "+s+", source: "+a+", medium: "+l)),O._params.filter&&O._params.filter.indexOf(-1!==O.consts("CAMERA_EMULATOR_NAME"))&&(o="Camera Emulator"),ga("send",{hitType:"pageview",title:t,location:e,hostname:n,dimension1:o}),u&&console.log("[DEBUG] GA data sent. Account: "+gAccount+", isLocal: "+c()+", hostname: "+n+", URL: "+e+", title: "+t+", custom dimension: "+o)}}(e,t,o)}O._.isUsefulString(window.location.search)&&window.history.replaceState&&window.history.replaceState({},"",window.location.toString().replace(getUrlParamString(),""))}var i;var n,r}()}),O.model.subscribe(O.consts("EVT_TOPIC_HIDDEN"),function(){!function(){var e=[],t=O.model.get(O.consts("KEY_LNG"));O._.isEmptyObject(t)||(e=[{intro:t.WarningText},{element:"#helpbtn",intro:" "}]);if(0===E(".introjs-overlay").length&&0<E("#camera-select-group").length){var o=introJs();o.setOptions({steps:e,tooltipPosition:"auto",hidePrev:!0,hideNext:!0,skipLabel:"Close",nextLabel:"Choose camera",tooltipClass:"tooltip",showStepNumbers:!1,disableInteraction:!0,showBullets:!1,scrollToElement:!1,overlayOpacity:"0.1"}).onexit(function(){E(".introjs-overlay").hide()}).start(),E("a.introjs-nextbutton").on("click",function(){i(),E("#filterbtn")[0].click(),o.exit()})}}()}),O.model.subscribeOnce(O.consts("KEY_TAG_EXPRESSION"),function(){!function(){if(c())E("div.title").css("overflow","visible"),E("div.title").css("line-height","75%"),E("div.title").css("margin-top","0"),E("div.title").css("height","auto"),E("#offlineVersionLabel").show();else if(!(window.localStorage?"true"===localStorage.getItem(t):"true"===getCookie(t))){var e=O.model.get(O.consts("KEY_LNG")).CookieInfoText;O._.isUsefulString(e)&&(E("<div class='cookieinfo'>").append(e).appendTo("body"),E("#cookiebtn").click(function(){window.localStorage?localStorage.setItem(t,"true"):setCookie(t,"true","true"),E(".cookieinfo").remove()}))}(function(m,t){var e=O._.compactObject(O.model.get(O.consts("KEY_PROJECT_TAG_STATES"))),o=O._.compactObject(O.model.get(O.consts("KEY_DEFAULT_FILTER"))),h=O._.compactObject(O.model.get(O.consts("KEY_MERGED_FILTER_KEY")));if(0===E(m).length&&!O._.isEmptyObject(e)&&!O._.isEmptyObject(o)&&!O._.isEmptyObject(h)){var b={},i=Object.keys(o[0])[0],_=h[0].children,n="";n=isLocalDBSupported()?Object.keys(e[0])[0]:getCookie(T),O._.isUsefulString(n)||(n=Object.keys(o[0])[0]);var r=E("ul.wFltOpts",E("div.filter-holder")[0]),s=r.find("ul.wFltOptsGrp"),l=[],a=O.model.get(O.consts("KEY_LNG"));O._.isEmptyObject(a)||(l=[a.FilterDescription1,a.FilterDescription2,a.FilterDescription3,a.FilterDescription4]);var c=r.find("li.group");c.each(function(e){e===parseInt(t)?(s.eq(e).hide(),c.eq(e).find("label.tag-parent").after("<p class='settings-description'>"+l[e]+"</p>"),c.eq(e).attr("id","camera-select-group")):!1===u&&c.eq(e).hide()}),r.find("label.tag-parent").eq(t).after("<div style='padding:10px'><select id='"+m.substring(1)+"' style='width: 100%'><option></option></select></div>");for(var d=[],v=0;v<Object.keys(_).length;v++)d.push({id:v,text:_[v].display});E(m).select2({placeholder:"",data:d}),E(m).on("change",function(e,t){void 0===t&&(t=!1);var o=E(m+" :selected").text(),i=E("#selectedDeviceLink").text();if(o!==i){var n=E(m).val(),r=_[n].name,s={};s[n]=r,b[0]=s;var l=[];for(v=0;v<Object.keys(h[1].children).length;++v)l[v]=h[1].children[v].name||"";var a=[];for(v=0;v<Object.keys(h[2].children).length;++v)a[v]=h[2].children[v].name||"";var c=[];for(v=0;v<Object.keys(h[3].children).length;++v)c[v]=h[3].children[v].name||"";var d=r.replace("_p","").split(/(_|^.{0,3}|\d+|[a-z])/).filter(function(e){if(e)return 0!=e.length&&" "!=e&"_"!=e}),u={seriesid:d[0],interfaceid:d[3],colorid:d[4]},f=gCameraNamingScheme;f.forEach(function(e,i){u.seriesid===f[i].seriesid.toLowerCase()&&u.interfaceid===f[i].interfaceid&&u.colorid===f[i].colorid&&(l.forEach(function(e,t){if(f[i].sfnctag.toLowerCase()===l[t]){var o={};o[t.toString()]=f[i].sfnctag.toLowerCase(),b[1]=o}}),a.forEach(function(e,t){if(f[i].seriestag.toLowerCase()===a[t]){var o={};o[t.toString()]=f[i].seriestag.toLowerCase(),b[2]=o}}),c.forEach(function(e,t){if(f[i].colortag.toLowerCase()===c[t]){var o={};o[t.toString()]=f[i].colortag.toLowerCase(),b[3]=o}}))}),O.model.publish(O.consts("KEY_PROJECT_TAG_STATES"),O._.clone(b));var g=gDefTopicURL.substring(0,gDefTopicURL.indexOf("/")+1),p=g+r.replace("_P".toLowerCase(),"").replace("_b","").replace("_a","").replace("_","-")+".htm";E("#selectedDeviceLink").fadeOut(function(){E(this).text(o).attr("href",p).fadeIn()}),E("#selectedDeviceLinkMobile").text(o).attr("href",p),isLocalDBSupported()||setCookie(T,n,!0),w("1.1")&&!t&&window.loadTopic(p),-1!==r.indexOf("_P".toLowerCase())?E(".prototype-message").show():E(".prototype-message").hide()}}),E("a.reset-button").on("click",function(){return E(m).val(i).trigger("change",!0),!1}),O._.isUsefulString(n)&&E(m).val(n).trigger("change",!0)}})(s,0),E("#printbtn").click(function(){try{var e=O._.getTopicFrame(),t=e.contentDocument?e.contentDocument:e.contentWindow.document;return E("div.panel-content",t).toggle(!0),E("div.panel",t).removeClass("collapsed"),!0}catch(e){return u&&console.log("[DEBUG] "+e.message),!0}}),E("#helpbtn").click(function(){return function(){var e=[],t=O.model.get(O.consts("KEY_LNG"));if(O._.isEmptyObject(t)||(e=[{intro:t.TutorialText1},{element:".filter-holder",intro:t.TutorialText2},{element:"#selectedDeviceLink",intro:t.TutorialText3},{element:"#tocbtn",intro:t.TutorialText4},{element:"#helpbtn",intro:t.TutorialText5}]),0===E(".introjs-overlay").length){i(),E("#filterbtn")[0].click();var o=introJs();o.setOptions({steps:e,tooltipPosition:"auto",hidePrev:!0,hideNext:!0,skipLabel:"Close",tooltipClass:"tooltip",showStepNumbers:!1,disableInteraction:!0,showProgress:!0,showBullets:!1,scrollToElement:!1,overlayOpacity:"0.3"}).onexit(function(){E(".introjs-overlay").hide()}).oncomplete(function(){E(".introjs-overlay").hide()}).start()}E("a.introjs-nextbutton").on("click",function(){E(document).width()<tablet_max_width&&o.exit()})}(),!0}),E("#sharebtn").click(function(){var e=E("#selectedDeviceLink").text(),t=O.model.get(O.consts("KEY_MERGED_FILTER_KEY"))[0].display,o=O.model.get(O.consts("KEY_LNG")).CopyLinkMessage;if(O._.isUsefulString(e)&&O._.isUsefulString(t)&&O._.isUsefulString(o)){var i=document.createElement("input");document.body.appendChild(i);var n=getUrlBookmark();-1!==n.indexOf("&")&&(n=n.substring(0,getUrlBookmark().indexOf("&"))),i.value=getUrlWithoutParameterAndBookMark()+"?filter="+t+":"+e+n,i.select(),document.execCommand("copy",!1),document.body.removeChild(i),alert(o)}return!0}),E(".prototype-message").click(function(){return function(){var e=[],t=O.model.get(O.consts("KEY_LNG"));if(O._.isEmptyObject(t)||(e=[{intro:t.PrototypeText}]),0===E(".introjs-overlay").length){var o=introJs();o.setOptions({steps:e,tooltipPosition:"auto",hidePrev:!0,hideNext:!0,doneLabel:"OK",tooltipClass:"tooltip",showStepNumbers:!1,disableInteraction:!0,showBullets:!1,scrollToElement:!1,overlayOpacity:"0.1"}).onexit(function(){E(".introjs-overlay").hide()}).start()}}(),!0})}()})}(jQuery);